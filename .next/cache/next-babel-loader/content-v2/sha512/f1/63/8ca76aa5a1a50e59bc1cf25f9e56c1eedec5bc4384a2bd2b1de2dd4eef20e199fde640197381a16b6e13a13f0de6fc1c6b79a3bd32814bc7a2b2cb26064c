{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Formik } from \"formik\";\nimport Link from 'next/link';\nimport firebase from \"firebase\";\n\nvar SignupPage = function SignupPage() {\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref, _ref2) {\n      var email, password, setSubmitting, user;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              email = _ref.email, password = _ref.password;\n              setSubmitting = _ref2.setSubmitting;\n              _context.next = 4;\n              return firebase.auth().createUserWithEmailAndPassword(email, password);\n\n            case 4:\n              user = _context.sent;\n              setSubmitting(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var validate = function validate(_ref4) {\n    var email = _ref4.email,\n        password = _ref4.password;\n    var errors = {};\n\n    if (!email) {\n      errors.email = \"Required\";\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(email)) {\n      errors.email = \"Invalid email address\";\n    } else if (password.length < 6) {\n      errors.password = \"Password too short.\";\n    } else if (displayName.length < 3) {\n      errors.displayName = \"Display name too short.\";\n    }\n\n    return errors;\n  };\n\n  return __jsx(Formik, {\n    initialValues: {\n      email: '',\n      password: '',\n      displayName: ''\n    },\n    validate: validate,\n    onSubmit: onSubmit\n  }, function (_ref5) {\n    var values = _ref5.values,\n        errors = _ref5.errors,\n        touched = _ref5.touched,\n        handleChange = _ref5.handleChange,\n        handleBlur = _ref5.handleBlur,\n        handleSubmit = _ref5.handleSubmit,\n        isSubmitting = _ref5.isSubmitting;\n    return __jsx(\"form\", {\n      onSubmit: handleSubmit\n    }, __jsx(\"input\", {\n      type: \"text\",\n      name: \"displayName\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.email\n    }), errors.displayName && touched.displayName && errors.displayName, __jsx(\"label\", {\n      htmlFor: \"email\"\n    }, \"Email:\"), __jsx(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      id: \"email\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.email\n    }), errors.email && touched.email && errors.email, __jsx(\"label\", {\n      htmlFor: \"password\"\n    }, \"Password:\"), __jsx(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.password\n    }), errors.password && touched.password && errors.password, __jsx(\"button\", {\n      type: \"submit\",\n      disabled: isSubmitting\n    }, \" Submit \"), __jsx(\"p\", null, \"Have an account? \", __jsx(Link, {\n      href: \"/login\"\n    }, __jsx(\"a\", null, \"Login\"))));\n  });\n};\n\nexport default SignupPage;","map":null,"metadata":{},"sourceType":"module"}